<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
<script
  src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
  integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
  crossorigin="anonymous"></script>
<script src="/js/jquery.lazyload.min.js"></script>
<script>
  {% include demoreq.min.js %}
</script>

{% if site.social %}
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
{% endif %}

{% if page.custom_js %}
<script type="text/javascript">
{% for js_file in page.custom_js %}
  {% include  {{js_file}}.js %}
{% endfor %}
  </script>
{% endif %}

<script>
$(document).ready(function() {
  var $root = $('html, body');
  $('a.animate').click(function(e) {
      var href = $.attr(this, 'href').replace(/^\//,'');
      $root.animate({
        scrollTop: $(href).offset().top
      }, 500, function () {
        window.location.hash = href;
      });
      e.preventDefault();
  });

  // init bootstrap popover & tooltip
  $('[data-toggle="popover"]').popover();
  $('a[data-toggle="tooltip"]').tooltip().click(function(e) {
    e.preventDefault();
  });

  // lazyload
  var $imgs = $("img.lazy");
  $imgs.lazyload({
    failure_limit: Math.max($imgs.length - 1, 0)
  });
});
</script>
